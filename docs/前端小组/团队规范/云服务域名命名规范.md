目  录 Table of Contents

1 概述.... 4

1.1.............................................................................................................................................. 背景简介.... 4

1.2.............................................................................................................................................. 域名分类.... 4

1.3.................................................................................................................................... 域名设计原则.... 5

1.4.............................................................................................................................................. 使用对象.... 5

1.5.............................................................................................................................................. 用词约定.... 5

2 用户不感知类域名设计.... 6

2.1.................................................................................................................................... 域名命名规则.... 6

2.2..................................................................................................................... 全球化域名命名规则.... 6

2.3............................................................................................................... CDN资源域名命名规则.... 8

2.4     非生产环境域名命名规则.... 8

2.5     存储平台域名命名规则.... 8

2.6     内部域名命名规则.... 8

3        用户感知类域名设计.... 9

3.1     域名命名规则.... 9

3.2     域名申请和审批.... 9

4        域名使用.... 9

4.1     域名相关编码使用规则.... 9

 

 

云服务系统内部使用域名命名规范 V1.6

1      概述
1.1     背景简介
随着云服务业务领域的扩展，以及业务开展国家或地区的拓展，各业务需要使用大量的域名，本规范主要针对云服务领域系统内部使用的域名的命名规范进行约束。

1.2     域名分类
对云服务使用的域名，按照用户是否感知分成两类：用户感知类、用户不感知类。

用户感知类：用户（包括消费者用户，合作伙伴、开放生态的开发者/CP/SP等）在正常使用荣耀提供的业务时，会在地址栏、内容页面中呈现的域名信息，如developer.hihonor.com，id.cloud.hihonor.com等，用户感知包括面向最终消费者、生态合作伙伴等需要关注品牌的场景，这类域名设计需要考虑品牌等方面的传播。用户可感知的二级域名包括以下域名及其备份域名：

序号

三级级域名

说明

1

developer.hihonor.com

开发者联盟域名

2

cloud.hihonor.com

云域名

 

用户不感知类：这类域名在荣耀系统内部使用，包括服务器之间的内部交互，以及客户端和服务器之间通过互联网的交互，如music.hihonorcloud.com等。用户不可感知的二级域名包括及其备份域名：

序号

二级域名

说明

1

hihonorcloud.com

云服务内部主域名

2

hihonorcdn.com

静态CDN域名

 

荣耀使用的可感知域名，以及不可感知域名如下表所示：

　域名类型

域名                                   

备注

可感知域名

hihonor.com

业务连续性备份域名：hihonor.com.cn

涉及品牌露出的域名

不可感知域名

hihonorcloud.com

业务连续性备份域名：hihonorcloud.cn/eu/asia

内部使用的业务主域名；在二级域名下再划分各个产品的三级域名，例如：hispace.hihonorcloud.com, music.hihonorcloud.com

三级域名详细信息见2.2.3。

hihonorcdn.com

业务连续性备份域名：hihonorcdn.cn/eu/asia

CDN加速域名

 

1.3     域名设计原则
域名规则满足云服务全球化方案设计，支持业务在全球开展；
在域名设计中，隔离多业务领域间的域名，简化域名生命周期管理；
参考业界常规域名规则设计；
1.4     使用对象
本规范的读者及使用对象主要为业务的需求分析人员、设计人员、开发人员、测试人员等。

1.5     用词约定
规则：强制必须遵守的原则
建议：需要加以考虑的原则
说明：对此规则或建议进行相应的解释
实施指导：对此规则或建议的实施进行相应的指导
2      用户不感知类域名设计
2.1     域名命名规则
规则2.1：域名由“.”分割成多个部分，每部分域名信息只允许由a-z、0-9以及“-”符号组成，域名中出现的字母采用小写进行标识。

2.2     全球化域名命名规则
规则2.2.1：当业务按不同区域分别部署时，如果需要为每个部署中心设计不同的域名时，需要采用下面的命名规则：

{service}-{region}.[{domain}.]hihonorcloud.com

说明：service是指表达业务服务功能的名称；region标识部署中心的名称；domain标识业务领域。

规则2.2.2：全球化域名中涉及到的region字段，用于标识部署覆盖的业务区域，通过dr{x}进行标识，参考下表描述。

Region

覆盖区域

dre

Data Region Europe，标识欧洲站点覆盖的国家和地区。

dra

Data Region Asia-Africa-Latin America，标识亚非拉站点覆盖的国家和地区。

drcn

中国站点，覆盖中国境内业务。

drru

俄罗斯站点，覆盖俄罗斯境内业务。

建议 2.2.3：为了便于管理，在hihonorcloud.com下为业务领域设计三级域名，并在三级域名下，设计不同的四级、五级域名进行业务内不同服务或者子系统的区分。

其可用三级域名如下：

 

三级域名

业务领域

1

*.hispace.hihonorcloud.com

应用市场

2

*.jos.hihonorcloud.com

联运服务

3

*.push.hihonorcloud.com

Push

4

*.op.hihonorcloud.com

开放平台

5

*.dt.hihonorcloud.com

大数据

6

*.cloud.hihonorcloud.com

云空间

7

*.himovie.hihonorcloud.com

视频业务

8

*.music.hihonorcloud.com

音乐业务

9

*.platform.hihonorcloud.com

平台领域业务

11

*.wallet.hihonorcloud.com

钱包业务

12

*.iap.hihonorcloud.com

IAP业务

13

*.magicui.hihonorcloud.com

MagicUI业务对应服务

14

*.things.hihonorcloud.com

覆盖智能穿戴、智能健康、智能配件领域业务

15

*.ai.hihonorcloud.com

智慧业务

16

*.innovation.hihonorcloud.com

规划部创新业务

17

*.cg.hihonorcloud.com

云游戏业务

18

*.map.hihonorcloud.com

地图业务

19

*.edu.hihonorcloud.com

教育中心

20

*.security.hihonorcloud.com

云安全业务

21

*.hiboard.hihonorcloud.com

奥德赛

 

建议 2.2.4：架构未发生变化的版本新增域名时不能在域名中添加版本号信息，如果发生大的架构变化导致域名体系需要重新申请时，新的架构方案需要通过DRB会议，并在方案中设计对应的域名，新架构变化可以在域名中用版本号来标识架构的不同。

建议 2.2.5：单部署集群性能无法满足需求，需要用多个独立集群提供服务时，可以采用pod来对不同集群进行命名，其命名规则：

{service}-{pod}[-{region}].[{domain}.]hihonorcloud.com

 

Pod命名规则采用p加两位数字表示，即 “p”+nn。如clubimg-p01.hihonorcdn.com、clubimg-p03.hihonorcdn.com等。

 

2.3     CDN资源域名命名规则
规则2.3.1：对于CDN静态资源站点，如用于存放JS、图片、CSS等资源文件，域名不能使用和业务相同的根域名。

建议2.3.2：CDN静态资源站点，建议在.hihonorcdn.com域名下设计子域名，其命名规则：

{service}-{pod}[-{region}].hihonorcdn.com

region表示静态资源站点所在的区域。

2.4     非生产环境域名命名规则
建议2.4.1：在域名字段中添加“-test”信息用于标识域名非生产用途域名，规则如下：

{service}-{pod}-test[-{region}].[{domain}.]hihonorcloud.com

建议2.4.2：对于hihonorcdn.com下的测试域名，因为不需要绑定IP，建议按照格式：{service}-test[-{region}].hihonorcdn.com

 

在域名字段中添加“-test”信息用于标识域名非生产用途域名，如：wisecontent-kappa-test-drcn.hihonorcdn.com

2.5     存储平台域名命名规则
建议2.6.1：对于存储平台节点命名，采用独立的四级及五级域名。和业界保持相同的模式，提供两种访问规则：

路径型访问方式：{service}-{region}.platform.hihonorcloud.com/{bucket}[-{pod}][-{region}]

虚拟主机型：{bucket[-{pod}]}[-{region}].platform.hihonorcloud.com

 

如：

         https://nsp-drcn.platform.hihonorcloud.com/wiseoper-mktp-nsp-p001-drcn/

         https://wiseoper-mktp-nsp-p001-drcn.platform.hihonorcloud.com/

2.6     内部域名命名规则
建议2.7.1：内部域名指服务互相调用时使用的域名，例如应用市场调用账号时使用的域名。采用下面的命名规则：

[{service}-{region}].inner.{domain}.hihonorcloud.com

如：store-drcn.inner.hispace.hihonorcloud.com

说明：service是指表达业务服务功能的名称，region标识部署中心的名称，domain标识业务领域。

3      用户感知类域名设计
3.1     域名命名规则
用户感知域名原则上统一使用hihonor.com，有特定用途的可使用其他的可感知域名。

各个业务的用户感知域名采用“功能.业务. hihonor.com”的规则，如console.heds.hihonor.com等。

3.2     域名申请和审批
用户感知域名需要考虑品牌方面的传播，因此由对应业务部门报规划部审批备案。

4      域名使用
4.1     域名相关编码使用规则
规则3.1.1：不允许在客户端中，通过拼接字段的方式，拼接使用域名。如不允许通过在代码中采用“hnid”、“站点”在代码中拼接产生hnid1.hihonorcloud.com的方式来使用全球化域名。

 

建议3.1.2：客户端中不硬编码服务器域名，建议通过从服务器中获取的方式，获取域名。

 

规则3.1.3：对于全球化场景中，需要根据DataRegion不同，需要通过不同域名接入的场景，需要通过GRS获取对应站点的子域名。
